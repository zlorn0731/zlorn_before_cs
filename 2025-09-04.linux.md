# 🐧 리눅스 스크립트 학습 기록

---

## 📌 목차
- [준비 단계](#-준비-단계)  
- [스크립트 파일 만들기 & 실행](#-스크립트-파일-만들기--실행)  
- [출력과 입력](#-출력과-입력)  
- [변수와 확장](#-변수와-확장)  
- [위치 인자(arguments)](#-위치-인자arguments)  
- [조건문](#-조건문)  
- [반복문](#-반복문)  
- [함수](#-함수)  
- [에러 처리 & 안전 옵션](#-에러-처리--안전-옵션)  
- [리다이렉션 & 히어도큐먼트](#-리다이렉션--히어도큐먼트)  
- [배열](#-배열)  
- [환경변수](#-환경변수)  
- [종합 예제](#-종합-예제)  

---

## 🐧 준비 단계
```bash
mkdir -p ~/script-play && cd ~/script-play
echo $0        # 현재 사용 중인 쉘 확인
bash --version # bash 버전 확인
```
- mkdir -p → 부모 디렉토리까지 생성 (없어도 에러 X)
- && → 앞 명령 성공 시 다음 명령 실행
- ~ → 홈 디렉토리
- cd → 디렉토리 이동

---

## 🐧 스크립트 파일 만들기 & 실행
```bash
cat > hello.sh <<'EOF'
#!/usr/bin/env bash
echo "안녕하세요, 스크립트!"
EOF
```
실행 방법
```bash
bash hello.sh        # 방법1: bash 로 실행
chmod +x hello.sh
./hello.sh           # 방법2: 실행 권한 주고 직접 실행
source hello.sh      # 방법3: 현재 쉘에서 실행
```

---

## 🐧 출력과 입력
```bash
echo "문자열 출력"
printf "이름:%s 나이:%d\n" "지안" 20

read -p "이름을 입력하세요: " name
echo "안녕하세요, $name 님!"
```

---

## 🐧 변수와 확장
```bash
name="jian"
echo $name        # 값 출력
echo "$name"      # 값 출력 (안전)
echo '이건 $name' # 변수 확장 안 됨
```

---

## 🐧 위치 인자(arguments)
```bash
#!/usr/bin/env bash
echo "스크립트 이름: $0"
echo "첫 번째 인자: $1"
echo "전체 인자: $@"
echo "인자 개수: $#"
```

---

## 🐧 조건문
```bash
num=$1
if [[ $num -gt 10 ]]; then
    echo "10보다 큽니다"
elif [[ $num -eq 10 ]]; then
    echo "딱 10입니다"
else
    echo "10보다 작습니다"
fi
```

---

## 🐧 반복문
```bash
for i in {1..5}
do
    echo "숫자: $i"
done

count=1
while [ $count -le 3 ]
do
    echo "횟수: $count"
    count=$((count+1))
done
```

---

## 🐧 함수
```bash
hello() {
    echo "함수 실행!"
}
hello
```

---

## 🐧 에러 처리 & 안전 옵션
```bash
set -Eeuo pipefail
trap 'echo "오류 발생! (라인:$LINENO)"' ERR
```

---

## 🐧 리다이렉션 & 히어도큐먼트
```bash
ls > out.txt       # 출력 저장
echo "추가" >> out.txt
grep hi nope 2> err.txt   # 에러만 저장

cat <<'EOF' > note.txt
여기 적은 내용이 그대로 들어감
EOF
```

---

## 🐧 배열
```bash
arr=(apple banana orange)
echo "${arr[0]}"
echo "${arr[@]}"
```

---

## 🐧 환경변수
```bash
echo $HOME   # 홈 디렉토리 경로
export PATH=$PATH:/my/custom/bin
```

---

## 🐧 종합 예제
```bash
#!/usr/bin/env bash
set -Eeuo pipefail
trap 'echo "에러 발생(라인:$LINENO)"; exit 1' ERR

usage() {
  echo "사용법: $0 <dir> [ext]"
}

main() {
  local dir=${1:-}
  local ext=${2:-.txt}

  if [[ -z "$dir" ]]; then
    usage; exit 1
  fi

  local count=0
  for f in "$dir"/*"$ext"; do
    [[ -e "$f" ]] || continue
    ((count++))
    lines=$(wc -l < "$f")
    printf "[%02d] %s : %s lines\n" "$count" "$f" "$lines"
  done
  echo "총 파일: $count 개"
}

main "$@"
```

---

##### ✍️ 작성자: 박지안
##### 🐧 실습 환경: Replit
##### 🗓️ 작업일: 2025-09-04
